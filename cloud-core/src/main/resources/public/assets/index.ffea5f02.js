import{u as i,F as t,bw as w,U as f,bK as a}from"./index.6d4055d0.js";const g=i(),o=(r,s)=>g.login({username:r,password:s}),p=t(null),u=t(!1),n=t(null),e=w({username:"",password:""}),m={loginForm:p,guestLogin:u,input:n,user:e},d=()=>{u.value=!u.value,f(()=>{e.username="",e.password="",n.value!=null&&n.value.focus()})},l=()=>{if(!u.value){if(e.username.trim()==="")return window.$message.warning("\u7528\u6237\u540D\u4E0D\u53EF\u4EE5\u4E3A\u7A7A"),e.username="",!1;if(e.username.length>10)return window.$message.warning("\u7528\u6237\u540D\u957F\u5EA6\u572810\u4F4D\u6570\u4EE5\u5185"),e.username="",!1}return e.password.trim()===""?(window.$message.warning("\u5BC6\u7801\u4E0D\u53EF\u4EE5\u4E3A\u7A7A"),e.password="",!1):e.password.length>18?(window.$message.warning("\u5BC6\u7801\u957F\u5EA6\u572818\u4F4D\u6570\u4EE5\u5185"),e.password="",!1):!0},E=function(r){if(typeof r=="string"){let s="width=600,height=500,top=100,left=100,menubar=yes,location=yes,resizable=yes,scrollbars=true,status=true";window.open(r,"_blank",s);return}else if(u.value===!0){if(!l())return;o(e.username||"guest",e.password).then(s=>{a.push({path:"/explorer/local"})})}else{if(!l())return;o(e.username,e.password).then(s=>{a.push({path:"/explorer/local"})})}};export{E as l,m as s,d as t};
