import{i as s,bB as o,bH as r,bK as c,u as i,bL as u}from"./index.6d4055d0.js";const d=function(t){if(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))window.$dialog.info({title:"\u4E0B\u8F7D",style:{textAlign:"center"},content:()=>s("a",{href:t,target:"_blank",style:"font-weight: bold;font-size: 1rem"},"\u70B9\u6211\u4E0B\u8F7D"),positiveText:"\u786E\u5B9A"});else{const e=document.createElement("a");if(e.style.display="none",e.href=t,e.target="_blank",document.body.appendChild(e),document.all)e.click();else{const n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0),e.dispatchEvent(n)}document.removeChild(e)}},$=async function(t){typeof t=="string"&&t.length!==0&&navigator.clipboard&&await navigator.clipboard.writeText(t)};window.sessionStorage.getItem("isMobile");const l=async t=>(await c.push({path:`/explorer/${t.bucketName}`,query:{path:t.path}}),history.replaceState({...history.state},""),o.get(r("/resource"),t).then(e=>{if(e.code==200)return e.data})),p=t=>o.post(r("/resource/create"),t).then(e=>{if(e.code==200)return window.$message.success(e.msg),e.data}),h=t=>o.post(r("/resource/delete"),{id:t}).then(e=>{if(e.code==200)return e.data}),f=(t,e)=>o.post(r("/resource/rename"),{id:t,name:e}).then(n=>{if(n.code==200)return n.data}),g=(t,e,n="copy")=>o.post(r(`/resource/${n}`),{id:t,targetId:e}).then(a=>{if(a.code==200)return window.$message.success(a.msg),a.data}),m=(t,e)=>o.post(r("/resource/saveContent"),{id:t,content:e}).then(n=>{if(n.code==200)return n.data}),w=(t,e=!0)=>o.post(r("/resource/pre_download"),{id:t}).then(n=>{const a=`${r("/resource/download",!1)}?entry=${n.data}`;return e&&d(a),a}),v=t=>i().getUnsafeToken().then(e=>`${u}/${t}?token=${e}`);function b(t){return o.get(r("/resource/upload"),t).then(e=>e)}function k(t){return o.post(r("/resource/upload/merge"),t).then(e=>e)}const E={listResource:l,createFile:p,deleteFile:h,renameFile:f,moveOrCopyFile:g,saveContent:m,download:w,preview:v};export{E as A,$ as a,p as c,d,k as m,v as p,b as u};
