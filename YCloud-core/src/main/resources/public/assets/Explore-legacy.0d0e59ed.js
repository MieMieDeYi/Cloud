!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t,n,r,o,i,c){try{var a=e[i](c),s=a.value}catch(u){return void n(u)}a.done?t(s):Promise.resolve(s).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var c=e.apply(t,r);function a(e){n(c,o,i,a,s,"next",e)}function s(e){n(c,o,i,a,s,"throw",e)}a(void 0)}))}}System.register(["./index-legacy.ef81fb63.js"],(function(n,o){"use strict";var i,c,a,s,u,d;return{setters:[e=>{i=e.i,c=e.bB,a=e.bH,s=e.bK,u=e.u,d=e.bL}],execute:function(){n({m:function(e){return c.post(a("/resource/upload/merge"),e).then((e=>e))},u:function(e){return c.get(a("/resource/upload"),e).then((e=>e))}});const o=n("d",(function(e){if(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent))window.$dialog.info({title:"下载",style:{textAlign:"center"},content:()=>i("a",{href:e,target:"_blank",style:"font-weight: bold;font-size: 1rem"},"点我下载"),positiveText:"确定"});else{const t=document.createElement("a");if(t.style.display="none",t.href=e,t.target="_blank",document.body.appendChild(t),document.all)t.click();else{const e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),t.dispatchEvent(e)}document.removeChild(t)}}));n("a",function(){var e=r((function*(e){"string"==typeof e&&0!==e.length&&navigator.clipboard&&(yield navigator.clipboard.writeText(e))}));return function(t){return e.apply(this,arguments)}}());window.sessionStorage.getItem("isMobile");const l=function(){var n=r((function*(n){return yield s.push({path:`/explorer/${n.bucketName}`,query:{path:n.path}}),history.replaceState(function(n){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){t(n,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}({},history.state),""),c.get(a("/resource"),n).then((e=>{if(200==e.code)return e.data}))}));return function(e){return n.apply(this,arguments)}}(),f=n("c",(e=>c.post(a("/resource/create"),e).then((e=>{if(200==e.code)return window.$message.success(e.msg),e.data})))),p=n("p",(e=>u().getUnsafeToken().then((t=>`${d}/${e}?token=${t}`))));n("A",{listResource:l,createFile:f,deleteFile:e=>c.post(a("/resource/delete"),{id:e}).then((e=>{if(200==e.code)return e.data})),renameFile:(e,t)=>c.post(a("/resource/rename"),{id:e,name:t}).then((e=>{if(200==e.code)return e.data})),moveOrCopyFile:(e,t,n="copy")=>c.post(a(`/resource/${n}`),{id:e,targetId:t}).then((e=>{if(200==e.code)return window.$message.success(e.msg),e.data})),saveContent:(e,t)=>c.post(a("/resource/saveContent"),{id:e,content:t}).then((e=>{if(200==e.code)return e.data})),download:(e,t=!0)=>c.post(a("/resource/pre_download"),{id:e}).then((e=>{const n=`${a("/resource/download",!1)}?entry=${e.data}`;return t&&o(n),n})),preview:p})}}}))}();
